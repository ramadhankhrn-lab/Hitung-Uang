<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Keuangan Jualan</title>

<style>
*{
    box-sizing:border-box;
    font-family:Arial, sans-serif;
}

html,body{
    margin:0;
    width:100%;
    height:100%;
}

body{
    background:url("https://files.catbox.moe/t234u7.jpg") center/cover no-repeat;
}

/* APP FULL SCREEN */
.app{
    width:100vw;
    height:100vh;
    background:rgba(0,0,0,.65);
    color:#fff;
    padding:12px;
    display:flex;
    flex-direction:column;
}

/* HEADER */
h2{
    text-align:center;
    margin:6px 0 10px;
}

/* INPUT */
.input{
    display:flex;
    gap:6px;
    margin-bottom:8px;
}

.input input{
    flex:1;
    padding:9px;
    border:none;
    border-radius:6px;
    font-size:14px;
}

/* BUTTON TAMBAH */
.btn-group{
    display:flex;
    gap:6px;
    margin-bottom:10px;
}

button{
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.income-btn,
.expense-btn{
    flex:1;
    padding:10px;
    font-size:14px;
    font-weight:bold;
    color:#fff;
}

.income-btn{background:#28a745}
.expense-btn{background:#ffc107;color:#000}

/* SALDO */
.balance{
    text-align:center;
    font-size:18px;
    font-weight:bold;
    margin-bottom:6px;
}

/* LIST */
.section{
    flex:1;
    overflow-y:auto;
    margin-bottom:6px;
}

.section h3{
    margin:6px 0;
    font-size:15px;
}

.item{
    background:rgba(255,255,255,.1);
    padding:8px;
    border-radius:6px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:5px;
    font-size:13px;
}

.delete{
    background:#dc3545;
    width:22px;
    height:22px;
    border-radius:50%;
    text-align:center;
    line-height:22px;
    font-weight:bold;
    font-size:13px;
}

/* RESET KECIL */
.reset-btn{
    align-self:center;
    padding:6px 14px;
    font-size:12px;
    background:#b02a37;
    color:#fff;
    margin-top:6px;
}
</style>
</head>

<body>
<div class="app">

<h2>Catatan Keuangan</h2>

<div class="balance" id="saldo">Saldo: Rp 0</div>

<div class="input">
    <input id="desc" placeholder="Keterangan">
    <input id="amount" type="number" placeholder="Nominal">
</div>

<div class="btn-group">
    <button class="income-btn" onclick="addIncome()">+ Pemasukan</button>
    <button class="expense-btn" onclick="addExpense()">- Pengeluaran</button>
</div>

<div class="section">
    <h3>ðŸ“¥ Pemasukan</h3>
    <div id="incomeList"></div>
</div>

<div class="section">
    <h3>ðŸ“¤ Pengeluaran</h3>
    <div id="expenseList"></div>
</div>

<button class="reset-btn" onclick="resetSaldo()">Reset Saldo</button>

</div>

<script>
/* STORAGE */
let incomes = JSON.parse(localStorage.getItem("incomes")) || [];
let expenses = JSON.parse(localStorage.getItem("expenses")) || [];

function save(){
    localStorage.setItem("incomes", JSON.stringify(incomes));
    localStorage.setItem("expenses", JSON.stringify(expenses));
}

function render(){
    let saldo=0;
    incomeList.innerHTML="";
    expenseList.innerHTML="";

    incomes.forEach((i,idx)=>{
        saldo+=i.amount;
        incomeList.innerHTML+=`
        <div class="item">
            <span>${i.desc} +Rp ${i.amount.toLocaleString()}</span>
            <div class="delete" onclick="delIncome(${idx})">Ã—</div>
        </div>`;
    });

    expenses.forEach((e,idx)=>{
        saldo-=e.amount;
        expenseList.innerHTML+=`
        <div class="item">
            <span>${e.desc} -Rp ${e.amount.toLocaleString()}</span>
            <div class="delete" onclick="delExpense(${idx})">Ã—</div>
        </div>`;
    });

    saldoEl = document.getElementById("saldo");
    saldoEl.innerText="Saldo: Rp "+saldo.toLocaleString();
    save();
}

function addIncome(){
    if(!desc.value || amount.value<=0) return alert("Isi yang bener ðŸ˜­");
    incomes.push({desc:desc.value,amount:+amount.value});
    desc.value="";amount.value="";
    render();
}

function addExpense(){
    if(!desc.value || amount.value<=0) return alert("Isi yang bener ðŸ˜­");
    expenses.push({desc:desc.value,amount:+amount.value});
    desc.value="";amount.value="";
    render();
}

function delIncome(i){
    incomes.splice(i,1);
    render();
}

function delExpense(i){
    expenses.splice(i,1);
    render();
}

function resetSaldo(){
    if(confirm("Yakin reset semua data?")){
        incomes=[];expenses=[];
        render();
    }
}

render();
</script>

</body>
</html>
