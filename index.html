<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Catatan Keuangan</title>

<style>
*{box-sizing:border-box}
html,body{
    margin:0;
    width:100%;
    height:100%;
    font-family:Arial,Helvetica,sans-serif;
}

body{
    background:url("https://files.catbox.moe/t234u7.jpg") no-repeat center;
    background-size:cover;
}

.app{
    width:100%;
    height:100%;
    background:rgba(0,0,0,.65);
    backdrop-filter:blur(6px);
    display:flex;
    flex-direction:column;
    color:#fff;
}

.header{
    padding:15px;
    text-align:center;
    font-size:20px;
    font-weight:bold;
    border-bottom:1px solid rgba(255,255,255,.2);
}

.form{
    padding:10px;
    display:flex;
    gap:6px;
}

.form input,.form select,.form button{
    padding:10px;
    border:none;
    border-radius:6px;
    font-size:14px;
}

.form input{flex:1}
.form select{width:100px}
.form button{
    background:#28a745;
    color:#fff;
    font-weight:bold;
}

.reset{
    margin:0 10px 10px;
    padding:10px;
    background:#ffc107;
    border:none;
    border-radius:6px;
    font-weight:bold;
}

.list{
    flex:1;
    overflow-y:auto;
    padding:10px;
}

.item{
    background:rgba(255,255,255,.1);
    padding:10px;
    border-radius:6px;
    margin-bottom:8px;
}

.item-header{
    display:flex;
    justify-content:space-between;
    font-size:14px;
}

.controls{
    display:flex;
    gap:6px;
    margin-top:6px;
}

.controls button{
    flex:1;
    border:none;
    border-radius:6px;
    padding:6px;
    font-weight:bold;
    cursor:pointer;
}

.plus{background:#28a745;color:#fff}
.minus{background:#dc3545;color:#fff}
.delete{background:#555;color:#fff}

.footer{
    padding:15px;
    text-align:center;
    font-size:18px;
    font-weight:bold;
    border-top:1px solid rgba(255,255,255,.2);
}
</style>
</head>

<body>

<div class="app">
    <div class="header">ðŸ’° Catatan Keuangan</div>

    <div class="form">
        <input id="desc" placeholder="Keterangan">
        <input id="amount" type="number" placeholder="Nominal">
        <select id="type">
            <option value="income">Masuk</option>
            <option value="expense">Keluar</option>
        </select>
        <button onclick="tambah()">+</button>
    </div>

    <button class="reset" onclick="resetSaldo()">Reset Saldo</button>

    <div class="list" id="list"></div>

    <div class="footer" id="saldo">Saldo: Rp 0</div>
</div>

<script>
let data=[];

function render(){
    const list=document.getElementById("list");
    const saldoEl=document.getElementById("saldo");
    list.innerHTML="";
    let saldo=0;

    data.forEach((d,i)=>{
        saldo+= d.type==="income" ? d.amount : -d.amount;

        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`
            <div class="item-header">
                <span>${d.desc}</span>
                <span>${d.type==="income" ? "+" : "-"}Rp ${d.amount.toLocaleString()}</span>
            </div>
            <div class="controls">
                <button class="plus" onclick="ubah(${i}, true)">+</button>
                <button class="minus" onclick="ubah(${i}, false)">âˆ’</button>
                <button class="delete" onclick="hapus(${i})">âœ•</button>
            </div>
        `;
        list.appendChild(div);
    });

    saldoEl.innerText="Saldo: Rp "+saldo.toLocaleString();
}

function tambah(){
    const desc=document.getElementById("desc").value.trim();
    const amount=parseInt(document.getElementById("amount").value);
    const type=document.getElementById("type").value;

    if(!desc||isNaN(amount)||amount<=0){
        alert("Isi yang bener ðŸ˜­");
        return;
    }

    data.push({desc,amount,type});
    document.getElementById("desc").value="";
    document.getElementById("amount").value="";
    render();
}

function ubah(i,tambah){
    const nilai=prompt("Masukkan nominal:");
    const n=parseInt(nilai);
    if(isNaN(n)||n<=0) return;

    if(tambah){
        data[i].amount+=n;
    }else{
        data[i].amount-=n;
        if(data[i].amount<=0) data.splice(i,1);
    }
    render();
}

function hapus(i){
    if(confirm("Hapus data?")){
        data.splice(i,1);
        render();
    }
}

function resetSaldo(){
    if(confirm("Reset semua data?")){
        data=[];
        render();
    }
}

render();
</script>

</body>
</html>
