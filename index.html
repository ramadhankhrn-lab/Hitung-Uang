<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Keuangan Modern</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --glass: rgba(255,255,255,.15);
  --border: rgba(255,255,255,.35);
  --text: #ffffff;
  --green: #22c55e;
  --red: #ef4444;
  --orange: #f59e0b;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: "Segoe UI", sans-serif;
  min-height:100vh;
  background:
    linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)),
    url("https://files.catbox.moe/t234u7.jpg") center/cover no-repeat fixed;
  color:var(--text);
  padding:20px;
}

h2{text-align:center;margin-bottom:25px}

.container{
  max-width:900px;
  margin:auto;
  display:grid;
  gap:20px;
}

.card{
  background:var(--glass);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border:1px solid var(--border);
  border-radius:18px;
  padding:18px;
}

.card h3{margin-top:0}

input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:12px;
  border:none;
  outline:none;
  font-size:15px;
}

input{
  background:rgba(255,255,255,.25);
  color:#fff;
}

input::placeholder{color:#e5e7eb}

button{
  cursor:pointer;
  font-weight:600;
}

.btn-green{background:var(--green)}
.btn-red{background:var(--red)}
.btn-orange{background:var(--orange);color:#000}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
  font-size:14px;
}

th,td{
  padding:8px;
  border-bottom:1px solid var(--border);
  text-align:center;
}

.saldo{
  font-size:28px;
  font-weight:bold;
  text-align:center;
}
</style>
</head>
<body>

<h2>ðŸ’° Catatan Keuangan</h2>

<div class="container">

<div class="card">
<h3>âž• Pemasukan</h3>
<input id="produkMasuk" placeholder="Nama Produk">
<input id="hargaMasuk" type="number" placeholder="Harga (Rp)">
<button class="btn-green" onclick="tambahPemasukan()">Tambah Pemasukan</button>
</div>

<div class="card">
<h3>ðŸ“¥ Daftar Pemasukan</h3>
<table>
<thead>
<tr><th>Produk</th><th>Harga</th><th>Aksi</th></tr>
</thead>
<tbody id="listMasuk"></tbody>
</table>
Total Pemasukan: <b id="totalMasuk">Rp 0</b>
</div>

<div class="card">
<h3>âž– Pengeluaran</h3>
<input id="produkKeluar" placeholder="Nama Pengeluaran">
<input id="hargaKeluar" type="number" placeholder="Harga (Rp)">
<button class="btn-orange" onclick="tambahPengeluaran()">Tambah Pengeluaran</button>
</div>

<div class="card">
<h3>ðŸ“¤ Total Pengeluaran</h3>
<b id="totalKeluar">Rp 0</b>
</div>

<div class="card">
<div class="saldo">Saldo: <span id="saldo">Rp 0</span></div>
<button class="btn-red" onclick="resetSaldo()">Reset Saldo</button>
</div>

</div>

<script>
let pemasukan = JSON.parse(localStorage.getItem("pemasukan")) || [];
let pengeluaran = JSON.parse(localStorage.getItem("pengeluaran")) || [];

const rupiah = n => "Rp " + n.toLocaleString("id-ID");

function simpan(){
localStorage.setItem("pemasukan",JSON.stringify(pemasukan));
localStorage.setItem("pengeluaran",JSON.stringify(pengeluaran));
}

function render(){
let tm=0, tk=0;
listMasuk.innerHTML="";
pemasukan.forEach((x,i)=>{
tm+=x.harga;
listMasuk.innerHTML+=`
<tr>
<td>${x.produk}</td>
<td>${rupiah(x.harga)}</td>
<td><button class="btn-red" onclick="hapusPemasukan(${i})">âœ–</button></td>
</tr>`;
});
pengeluaran.forEach(x=>tk+=x.harga);
totalMasuk.innerText=rupiah(tm);
totalKeluar.innerText=rupiah(tk);
saldo.innerText=rupiah(tm-tk);
}

function tambahPemasukan(){
let p=produkMasuk.value;
let h=parseInt(hargaMasuk.value);
if(!p||isNaN(h))return alert("Isi data!");
pemasukan.push({produk:p,harga:h});
simpan();render();
produkMasuk.value="";hargaMasuk.value="";
}

function tambahPengeluaran(){
let p=produkKeluar.value;
let h=parseInt(hargaKeluar.value);
if(!p||isNaN(h))return alert("Isi data!");
pengeluaran.push({produk:p,harga:h});
simpan();render();
produkKeluar.value="";hargaKeluar.value="";
}

function hapusPemasukan(i){
if(confirm("Hapus pemasukan ini?")){
pemasukan.splice(i,1);
simpan();render();
}
}

function resetSaldo(){
if(confirm("Reset semua data & saldo?")){
localStorage.clear();
pemasukan=[];pengeluaran=[];
render();
}
}

render();
</script>

</body>
</html>
